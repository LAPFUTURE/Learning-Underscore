<!-- <script src="https://connectyoume.top/lapJS/a.js"></script>
<script src="https://connectyoume.top/lapJS/b.js"></script>
<script src="https://connectyoume.top/lapJS/c.js"></script>
<script src="https://connectyoume.top/lapJS/d.js"></script>
<script src="https://connectyoume.top/lapJS/e.js"></script> -->
<!DOCTYPE html>
<html>
<head>
	<title>a.html</title>
</head>
<body>

<script src="https://connectyoume.top/lapJS/lap.js" charset="utf-8"></script>
<script src="https://connectyoume.top/lapJS/underscore-min.js"></script>

<script type="text/javascript">

	function checker(){
		var validators = _.toArray(arguments);
		return function(obj){
			return _.reduce(validators,function(errs,check){
				if(check(obj)){
					return errs;
				}else{
					return _.chair(errs).push(check.message).value();
				}
			},[]);
		}
	}

	function dispatch(){
		let funs = _.toArray(arguments);
		let size = funs.length;
		return function(){
			let ret = undefined;
			let args = _.rest(arguments);
			for(let funIndex = 0; funIndex < size; funIndex++){
				let fun = funs[funIndex];
				ret = fun.apply(fun,construct(target,args));
				if(existy(ret)){
					return ret;
				}
			}
			return ret;
		}
	}

	function sleep(time) {
	    return new Promise((resolve, reject) => {
	        setTimeout(() => {
	            resolve(time/1000+"秒");
	        }, time);
	    })
	}

	function normalFunc() {
	    console.log('normalFunc');
	}

	async function awaitDemo() {
	    await normalFunc();
	    let result = await sleep(2000);
	    console.log(result);// 两秒之后会被打印出来
	}

	//awaitDemo();

	function log(a){console.log(a);}

	// _.each([1,2,3],console.log);
	// log(_.map([2,3,4],function(num){return num*2;}));
	// log(_.reduce([2,3,4],function(num1,num2){return num1+num2;},0));
	// log(_.reduceRight([[1,2],[3,4],[5,6]],function(arr1,arr2){return arr1.concat(arr2); }));
	// log(_.find([2,3,4,5,6,7,8],function(num){return num%2 === 1;}));
	// log(_.filter([1,2,3,4,5,6,7],function(num){return num%2 === 0;}));
	// log(_.invoke([[4,1,3],[32,12,99,32]],'sort'));
	// log(_.findWhere( [{name:'lap',age:20}, {"name":"xk",age:20}, {"name":"gfw",age:21}], {age:21}));	
	// log(_.where( [{name:'lap',age:20}, {"name":"xk",age:20}, {"name":"gfw",age:21}], {age:20}));
	// [3,2,1].forEach(function(a,b,c){console.log(a,b,c);});
	// log(_.reject([1,2,3,4,5],function(a){return a>3;}));
	// log(_.every([1,2,3,4,5,6],function(num){return num>2;}));
	log(_.some([1,2,3,4],(num)=>{return num>5;}));

</script>
</body>
</html>